# SQLFluff configuration with schemachange templater

[sqlfluff]
# Use the schemachange templater
templater = schemachange
# Set dialect to Snowflake (most common with schemachange)
dialect = snowflake
# Exclude generated and temporary files
exclude_rules = L003,L009

[sqlfluff:indentation]
# Use 4 spaces for indentation
tab_space_size = 4
indent_unit = space

[sqlfluff:layout:type:comma]
# Trailing commas
line_position = trailing

[sqlfluff:rules]
# Allow a little flexibility with line length in templates
max_line_length = 120
# Allow scalar subqueries
allow_scalar = true

[sqlfluff:templater:schemachange]
# Path to schemachange configuration file (auto-discovered if not specified)
config_file_path = schemachange-config.yml

# Additional variables to supplement/override config file
vars = {
    "linting_mode": true,
    "debug": false
}

# Enable dbt-style builtin functions for compatibility
apply_dbt_builtins = true

# Additional template search paths (comma-separated)
loader_search_path = templates,macros,includes

# Library path for custom Python functions (optional)
# library_path = libs

[sqlfluff:rules:L003]
# Disable hanging indents rule for Jinja blocks
lint_templated_tokens = false

[sqlfluff:rules:L016]
# Allow long lines in comments (often containing Jinja)
ignore_comment_lines = true

[sqlfluff:rules:L031]
# Don't require table aliases when using templated table names
force_enable = false